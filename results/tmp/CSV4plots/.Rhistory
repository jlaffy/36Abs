immh103MV2 <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2.csv"); colnames(immh103MV2)[1] <- "immh103MV2"
immh103MV2
source('~/.active-rstudio-document')
clear
new
preh149MU5
source('~/36Abs/scripts/proABC_cont_diffs.R')
source('~/36Abs/scripts/proABC_cont_diffs.R')
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.axes = 0.5a)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.axes = 0.5)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.axes = 0.5)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.axes = 0.2)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.axes = 0.2)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.labs = 0.2)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
#!/usr/bin/Rscript
immh103MV2small <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2small/Prob_heavy.csv")
immh103MV2big <- read.csv("/Users/julielaffy/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2big/Prob_heavy.csv")
#select rows from data.frame
cont_all <- immh103MV2small[2,]
cont_all_big <- immh103MV2big[2,]
#exclude first element
cont_all <- c(t(cont_all[-1]))
cont_all_big <- c(t(cont_all_big[-1]))
#x axis values
sequence_nums <- 1:(length(cont_all))
plot(sequence_nums, cont_all, type="h", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n", cex.axis = 0.1)
lines(sequence_nums, cont_all_big, type="h", col="orange", lwd=4)
axis(side=1, at=seq(1, length(cont_all), by=1))
legend('topright', c("small antigen vol","large antigen vol"), fill=c("purple","orange"), bty="n", cex = 0.85, title = "immh103MV2")
legend('topleft', c("1-30 = FR1","31-35 = CDR1","36-49 = FR2","50-68 = CDR2","69-100 = FR3", "101-121 = CDR3", "122-132 = FR4"), bty="n", cex = 0.85)
#select amino acid seq from data.frame, exclude first element, number a.as in a dataframe
a.a.seq <- immh103MV2small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
cont_all_dif <- as.numeric(cont_all_big)-as.numeric(cont_all)
as.factor(cont_all_dif)
df <- data.frame(a.a.seq, cont_all_dif)
difs <- cont_all_dif[cont_all_dif != 0]
write.csv(df, file = "~/36Abs/results/lambda_pair/proABC/immh103MV2/immh103MV2cont_diff.csv")
source('~/36Abs/scripts/proABC_cont_diffs.R')
source('~/.active-rstudio-document')
tail(x)
con <- url("http://circe.med.uniroma1.it/proABC/results.php?folder=u152017bxC", "r")
x <- readLines(con)
tail(x)
x
con <- url("http://circe.med.uniroma1.it/proABC/results.php?folder=u152017bxC", "r")
download.file(con)
x <- download.file(con)
read.csv(~/36Abs/results/nail120-imml103/preh149MU5_120103.csv)
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv")
preh149MU5_120103
preh149MU5_103107 <- read.csv("~/36Abs/results/imml103-nail107/preh149MU5_103107.csv")
preh149MU5_120107 <- read.csv("~/36Abs/results/nail120-nail107/preh149MU5_120107.csv")
preh149MU5_103107[1]
list(preh149MU5_103107)
source('~/.active-rstudio-document')
preh149MU5_103107
preh149MU5_120103 <- preh149MU5_120103[,2]
preh149MU5_120103
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
preh149MU5_120103
p120103 <- preh149MU5_120103[1,3]
p120103
cbind(preh149MU5_120103, preh149MU5_120107, preh149MU5_103107)
cbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3])
df <- list(cbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
df
class(df)
plot(df)
plot((1:length(df)), df)
plot(sequence_nums, df, type="b", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n")
plot((1:(length(df))), df, type="b", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n")
plot(list(1:(length(df))), df, type="b", col="purple", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n")
nums <- list(1:(length(df)))
nums
nums <- c(t(1:(length(df))))
nums
nums <- 1:(length(preh149MU5_120103))
nums
nums <- c(t(1:(length(preh149MU5_120103))))
nums
length(preh149MU5_120103)
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
preh149MU5_120103[2,]
preh149MU5_120103[,2]
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
preh149MU5_120107 <- read.csv("~/36Abs/results/nail120-nail107/preh149MU5_120107.csv2")
preh149MU5_103107 <- read.csv("~/36Abs/results/imml103-nail107/preh149MU5_103107.csv2")
nums <- preh149MU5_120103[,2]
nums <- nums[-1]
nums <- c(t(1:(length(nums))))
nums
df <- list(cbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
df
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
preh149MU5_120107 <- read.csv("~/36Abs/results/nail120-nail107/preh149MU5_120107.csv2")
preh149MU5_103107 <- read.csv("~/36Abs/results/imml103-nail107/preh149MU5_103107.csv2")
nums <- preh149MU5_120103[,2]
nums
nums <- nums[-1]
nums
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
nums <- c(t(1:(length(preh149MU5_120103[,2]))))
nums
a.a.seq <- c(t(1:(length(preh149MU5_120103[,2]))))
a.a.seq
df <- list(cbind(a.a.seq, preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
df
plot(a.a.seq, df, type="b", col="purple, blue, red", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n")
plot(list(a.a.seq), df, type="b", col="purple, blue, red", lwd=6, xlab = "a.a position", ylab = "probability of contact", xaxt="n")
df[2]
df[[2]]
df <- list(rbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
df
df <- list(rbind((preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]), row.names("120103, 120107, 103107"))
df <- list(rbind((preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]) row.names("120103, 120107, 103107"))
df <- list(rbind((preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]), row.names=("120103, 120107, 103107"))
df <- list(rbind((preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]), row.names=("120103, 120107, 103107"))
df <- rbind((preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]), row.names=("120103, 120107, 103107"))
df(rownames=("120103, 120107, 103107")))
df <- rbind((120103=preh149MU5_120103[,3], 120107=preh149MU5_120107[,3], 103107=preh149MU5_103107[,3]))
df <- rbind((120103=preh149MU5_120103[,3], 120107=preh149MU5_120107[,3], 103107=preh149MU5_103107[,3]))
df <- rbind(("120103=preh149MU5_120103[,3], 120107=preh149MU5_120107[,3], 103107=preh149MU5_103107[,3]"))
df
df <- list(rbind(120103=preh149MU5_120103[,3], 120107=preh149MU5_120107[,3], 103107=preh149MU5_103107[,3]))
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
preh149MU5_120107 <- read.csv("~/36Abs/results/nail120-nail107/preh149MU5_120107.csv2")
preh149MU5_103107 <- read.csv("~/36Abs/results/imml103-nail107/preh149MU5_103107.csv2")
a.a.seq <- c(t(1:(length(preh149MU5_120103[,2]))))
df <- list(rbind((preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]), row.names=("120103, 120107, 103107"))
df <- list(rbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
df
df <- rbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3])
df
class(df)
df <- data.frame(rbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
df
df[1]
pritn i
for i in df {
for (i in df) {
print i
for (i in df[@]) print i
for (i in df[]) print i
for (i in df()) print i
for (i in df() print i
edit(df)
df[1]
length(df)
print i
print(i)
for (i in seq_along(df)) {
if df[i] =~ 0
if df[i] =~ 0 {
if (df[i] =~ 0) {
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
for (i in seq_along(df)) {
if (df[i] <- 0) {
print(i)
}
m <- function() {}
for (i in seq_along(df)) {
if (df[i] <- 0) {
print(i)
}
}
}
m
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
preh149MU5_120107 <- read.csv("~/36Abs/results/nail120-nail107/preh149MU5_120107.csv2")
preh149MU5_103107 <- read.csv("~/36Abs/results/imml103-nail107/preh149MU5_103107.csv2")
m <- function() {
for (i in seq_along(df)) {
if (df[i] <- 0) {
print(i)
}
}
}
df() print i
df <- data.frame(rbind(preh149MU5_120103[,3], preh149MU5_120107[,3], preh149MU5_103107[,3]))
m
if (df[i] == 0) {
print(i)
}
if (df[i,] == 0) {
print(i)
}
data(immh103MV2cont_diff.csv)
data(~/36Abs/results/lambda_pair/proABC/immh103MV2cont_diff.csv)
data(file=~36Abs/results/lambda_pair/proABC/immh103MV2cont_diff.csv)
data(file=~/36Abs/results/lambda_pair/proABC/immh103MV2cont_diff.csv)
read.csv(immh103MV2cont_diff.csv)
preh149MU5_120103 <- read.csv("~/36Abs/results/nail120-imml103/preh149MU5_120103.csv2")
class(df)
source('~/36Abs/newscripts/backupcontdiffs.R')
preh149MU7cont_small.csv
read.csv(../results/1_NAIL120)
read.csv("../results/1_NAIL120")
read.csv("../results/1_NAIL120/preh118.csv")
read.csv("~/36Abs/results/1_NAIL120/preh118.csv")
split(x, x$a.a.seq)
source('~/.active-rstudio-document')
x <- read.csv("~/36Abs/results/1_NAIL120/preh118.csv")
split(x, x$a.a.seq)
split(x, x$preh118, x$a.a.seq, x$cont_all_dif)
y <- split(x, x$preh118, x$a.a.seq, x$cont_all_dif)
y[[5]]
y[[131]]
immh149MU5_IMML103 <- read.csv("~/36Abs/results/tmp/big_IMML103_heavy/immh149MU5_Prob_Heavy_IMML103_big.csv")
getwd
getwd()
immh149MV5_IMML103 <- read.csv("~/36Abs/results/tmp/big_IMML103_heavy/immh149MV5_Prob_Heavy_IMML103_big.csv")
immh149MV5_NAIL120 <- read.csv("~/36Abs/results/tmp/big_NAIL120_heavy/immh149MV5_Prob_Heavy_NAIL120_big.csv")
immh149MV5_NAIL107 <- read.csv("~/36Abs/results/tmp/big_NAIL107_heavy/immh149MV5_Prob_Heavy_NAIL107_big.csv")
immh149MV5_IMML103small <- read.csv("~/36Abs/results/tmp/small_IMML103_heavy/immh149MV5_Prob_Heavy_IMML103_small.csv")
immh149MV5_NAIL120small <- read.csv("~/36Abs/results/tmp/small_NAIL120_heavy/immh149MV5_Prob_Heavy_NAIL120_small.csv")
immh149MV5_NAIL107small <- read.csv("~/36Abs/results/tmp/small_NAIL107_heavy/immh149MV5_Prob_Heavy_NAIL107_small.csv")
#select rows from data.frame
IMML103 <- immh149MV5_IMML103[2,]
NAIL120 <- immh149MV5_NAIL120[2,]
NAIL107 <- immh149MV5_NAIL107[2,]
IMML103small <- immh149MV5_IMML103small[2,]
NAIL120small <- immh149MV5_NAIL120small[2,]
NAIL107small <- immh149MV5_NAIL107small[2,]
#exclude first element
IMML103 <- c(t(IMML103[-1]))
NAIL120 <- c(t(NAIL120[-1]))
NAIL107 <- c(t(NAIL107[-1]))
IMML103small <- c(t(IMML103small[-1]))
NAIL120small <- c(t(NAIL120small[-1]))
NAIL107small <- c(t(NAIL107small[-1]))
a.a.seq <- immh149MV5_IMML103small[1,]
a.a.seq <- c(t(a.a.seq[-1]))
a.a.seq = data.frame(a.a.seq)
df <- data.frame(a.a.seq, NAIL120, IMML103, NAIL107)
colnames(df)[1] = "immh149MV5big"
rows = apply(df[, 2:4], 1, function(i) length(unique(i)) > 1)
selected = df[rows,]
dfsmall <- data.frame(a.a.seq, NAIL120small, IMML103small, NAIL107small)
colnames(dfsmall)[1] = "immh149MV5small"
rowsmall = apply(dfsmall[, 2:4], 1, function(j) length(unique(j)) > 1)
selectedsmall = dfsmall[rowsmall,]
y = cbind(selectedsmall,selected)
selected
selectedsmall
df["97"]
df["97",]
df
df = cbind(small,big)
source('~/36Abs/newscripts/writeCSV4plots.R')
df
df[1,]
colnames(df[,1])
colnames(df[1])
count(df, colnames(df[1])
count(df, colnames(df[1]))
short = list.files(pattern=".{7,10}.csv$")
long = list.files(pattern="_fullseq_allLight.csv$")
for (i in 1:length(short)) assign(short[i], read.csv(short[i], col.names))
rows = apply(df[, 2:7], 1, function(i) length(unique(i)) > 1)
source('~/36Abs/newscripts/writeCSV4plots.R')
short = list.files(pattern=".{7,10}.csv$")
long = list.files(pattern="_fullseq_allLight.csv$")
for (i in 1:length(short)) assign(short[i], read.csv(short[i], col.names))
getwd()
data <- do.call("rbind", lapply(list.files(pattern=".{7,10}.csv$"), read.csv))
data
rm(list=ls(all=TRUE)) #start with empty workspace
getwd()
setwd("~/36Abs/results/tmp/CSV4plots/")
getwd()
?vapply
short.filenames <- list.files(pattern="*.{7,10}.csv$", full.names=TRUE)
short.filenames
short.filenames <- list.files(pattern="*.{7,10}.csv$", full.names=TRUE)
long.filenames <- list.files(pattern="_fullseq_allLight.csv$", full.names=TRUE)
ldf <- lapply(filenames, read.csv)
ldf <- lapply(short.filenames, read.csv)
ldf
filenames <- list.files(pattern="_allLight.csv$", full.names=TRUE)
ldf <- lapply(filenames, read.csv)
ldf
names(res) <- substr(filenames, 6, 30)
res <- lapply(ldf, summary)
names(res) <- substr(filenames, 6, 30)
names(res)
names(res) <- substr(filenames, ".{7,10}")
names(ldf)
ldf <- lapply(filenames, read.csv)
names(ldf)
res
names(res) <- grep(filenames, "([a-z]{4}[0-9]{3}(([MUV]{2}[0-9])?))")
names(res) <- grep(filenames, seqid)
seqid = "([a-z]{4}[0-9]{3}(([MUV]{2}[0-9])?))"
names(res) <- grep(filenames, seqid)
names(res) <- mapply(grep(filenames, seqid))
names(res) <- mapply(grepl(filenames, seqid))
?grep
names(res) <- mapply(grep(filenames, seqid, value = TRUE))
names(res) <- mapply(grep(filenames, "[a-z]{4}[0-9]{3}(([MUV]{2}[0-9])?)", value = TRUE))
names(res) <- mapply(grep(filenames, "([a-z]{4}[0-9]{3}(([MUV]{2}[0-9])?))", value = TRUE))
names(res) <- mapply(grep(filenames, "[a-z]{4}", value = TRUE))
names(res) <- mapply(grep(filenames, "[pin]", value = TRUE))
filenames <- list.files(pattern="_allLight.csv$", full.names=TRUE)
ldf <- lapply(filenames, read.csv)
res <- lapply(ldf, FUN)
names(res) <- mapply(grep(filenames, "[pin]", value = TRUE))
res <- lapply(ldf, summary)
names(res) <- mapply(grep(filenames, "[pin]", value = TRUE))
filenames <- list.files(pattern="_allLight.csv$", full.names=TRUE)
ldf <- lapply(filenames, read.csv)
res <- lapply(ldf, summary)
names(res) <- mapply(grep(filenames, "[pin]", value = TRUE))
names(res) <- mapply(grep(filenames, '[pin]', value = TRUE))
names(res)
res
names(res) <- mapply(grep(filenames, "[:alpha:]", value = TRUE))
filenames <- list.files(pattern="_allLight.csv$", full.names=TRUE)
ldf <- lapply(filenames, read.csv)
res <- lapply(ldf, summary)
names(res) <- mapply(grep(filenames, "[:alpha:]", value = TRUE))
names(res) <- grep(filenames, "[:alpha:]", value = TRUE)
names(res)
names(res) <- grep("[h][1-9]", filenames,value = TRUE)
names(res)
names(res) <- grep("[h][^.csv]", filenames,value = TRUE)
names(res)
?regexp
?regexec
names(res) <- grep("[a-z]{4}", filenames,value = TRUE)
names(res)
res
ldf
names(ldf) <- grep("[a-z]{4}", filenames,value = TRUE)
names(ldf)
ldf
names(ldf) <- grep("[^./][a-z]{4}", filenames,value = TRUE)
names(ldf)
ldf[2]
ldf[[2]]
read.csv("all.csv")
filenames <- list.files(pattern="[^(_fullseq)].csv$", full.names=TRUE)
filenames
filenames <- list.files(pattern="[^(_fullseq)]", full.names=TRUE)
filenames
filenames <- list.files(pattern="[^fullseq]", full.names=TRUE)
filenames
filenames <- list.files(pattern=".{7,10}.csv$", full.names=TRUE)
.{7,10}.csv$
filenames <- list.files(pattern="_allLight.csv$", full.names=TRUE)
filenames
filenames <- list.files(pattern="(_allLight.csv)$", full.names=TRUE)
.{7,10}.csv$
filenames
filenames <- list.files(pattern="all", full.names=TRUE)
filenames
filenames <- list.files(pattern="all", full.names=TRUE)
filenames
rm(list=ls(all=TRUE)) #start with empty workspace
initial.dir = getwd()
setwd("~/36Abs/results/tmp/CSV4plots/")
#source("XXXXX.R") #R script containing necessary functions, eg. loading data
data <- XXXXfunction() #function in R script loaded above
seqid = "([a-z]{4}[0-9]{3}(([MUV]{2}[0-9])?))"
read.csv("all.csv")
filenames <- list.files(pattern="all", full.names=TRUE)
filenames
